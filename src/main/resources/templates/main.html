<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>For My Love ❤️</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            background-color: #fff0f5;
            margin: 0;
            padding: 20px;
            color: #333;
        }
        .container {
            max-width: 100%;
            margin: 0 auto;
            padding: 20px;
            background-color: white;
            border-radius: 20px;
            box-shadow: 0 10px 25px rgba(255, 182, 193, 0.3);
            position: relative;
            z-index: 1;
        }
        h1 {
            color: #ff80ab;
            text-align: center;
            margin-bottom: 30px;
        }
        .message {
            line-height: 1.6;
            font-size: 18px;
            text-align: center;
            margin-bottom: 30px;
        }
        .heart-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            pointer-events: none;
            z-index: 0;
        }
        .heart {
            position: absolute;
            width: 20px;
            height: 20px;
            background-color: #ff80ab;
            transform: rotate(45deg);
            opacity: 0;
            animation: fall 5s linear infinite;
        }
        .heart::before, .heart::after {
            content: '';
            width: 20px;
            height: 20px;
            background-color: #ff80ab;
            border-radius: 50%;
            position: absolute;
        }
        .heart::before {
            top: -10px;
            left: 0;
        }
        .heart::after {
            top: 0;
            left: -10px;
        }
        @keyframes fall {
            0% {
                top: -10%;
                opacity: 0;
            }
            10% {
                opacity: 1;
            }
            90% {
                opacity: 1;
            }
            100% {
                top: 100%;
                opacity: 0;
            }
        }
        .photo-section {
            margin-top: 30px;
            text-align: center;
        }
        /* Slideshow styles */
        .slideshow-container {
            max-width: 90%;
            width: 500px;
            position: relative;
            margin: auto;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 10px 25px rgba(255, 182, 193, 0.5);
        }
        .fullscreen-btn {
            position: absolute;
            bottom: 15px;
            right: 15px;
            background-color: rgba(255, 128, 171, 0.5);
            color: white;
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            font-size: 18px;
            cursor: pointer;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 10;
            transition: background-color 0.3s;
        }
        .fullscreen-btn:hover {
            background-color: rgba(255, 128, 171, 0.8);
        }
        .fullscreen-mode {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.9);
            z-index: 1000;
            display: none;
            justify-content: center;
            align-items: center;
        }
        .fullscreen-mode img {
            max-width: 90%;
            max-height: 90%;
            object-fit: contain;
        }
        .close-fullscreen {
            position: absolute;
            top: 20px;
            right: 20px;
            color: white;
            font-size: 30px;
            cursor: pointer;
        }
        .slideshow-container img {
            width: 100%;
            height: auto;
            border-radius: 15px;
            opacity: 0;
            position: absolute;
            top: 0;
            left: 0;
            transition: opacity 1s ease-in-out;
        }
        .slideshow-container img.active {
            opacity: 1;
            position: relative;
        }
        .slideshow-container .fade {
            animation-name: fade;
            animation-duration: 1.5s;
        }
        @keyframes fade {
            from {opacity: 0.4}
            to {opacity: 1}
        }
        .prev, .next {
            cursor: pointer;
            position: absolute;
            top: 50%;
            width: auto;
            margin-top: -22px;
            padding: 16px;
            color: white;
            font-weight: bold;
            font-size: 18px;
            transition: 0.6s ease;
            border-radius: 0 3px 3px 0;
            user-select: none;
            background-color: rgba(255, 128, 171, 0.5);
            text-decoration: none;
        }
        .next {
            right: 0;
            border-radius: 3px 0 0 3px;
        }
        .prev {
            left: 0;
            border-radius: 0 3px 3px 0;
        }
        .prev:hover, .next:hover {
            background-color: rgba(255, 128, 171, 0.8);
        }
        .dots-container {
            text-align: center;
            margin-top: 10px;
        }
        .dot {
            cursor: pointer;
            height: 15px;
            width: 15px;
            margin: 0 5px;
            background-color: #ffcdd2;
            border-radius: 50%;
            display: inline-block;
            transition: background-color 0.6s ease;
        }
        .active-dot, .dot:hover {
            background-color: #ff80ab;
        }
        .welcome-message {
            text-align: center;
            margin: 20px 0;
            font-size: 22px;
            color: #ff4081;
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        .love-quote {
            font-style: italic;
            text-align: center;
            color: #ff4081;
            margin: 30px 0;
            font-size: 16px;
        }
        footer {
            text-align: center;
            margin-top: 40px;
            color: #ff80ab;
            font-size: 14px;
        }
        .entry-animation {
            opacity: 0;
            transform: translateY(20px);
            animation: fadeIn 1.5s forwards;
        }
        @keyframes fadeIn {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
    </style>
</head>
<body>
    <div class="heart-container" id="heart-container"></div>
    
    <!-- Fullscreen mode container -->
    <div class="fullscreen-mode" id="fullscreenMode">
        <span class="close-fullscreen" onclick="closeFullscreen()">×</span>
        <img id="fullscreenImage" src="" alt="Fullscreen image">
    </div>
    
    <div class="container entry-animation">
        <h1>Something special for you</h1>
        
        <div class="welcome-message">
            Welcome, my bababababbyy ❤️
        </div>
        
        <div class="message">
            <p>From the moment I first saw you, I knew you were special. Your smile brightens even my darkest days, and your laugh is the most beautiful sound I've ever heard.</p>
            
            <p>Every moment we spend together makes me fall deeper in love with you. You are the reason I smile every day, and I'm so grateful to have you in my life.</p>
            
            <p>You are my best friend, my confidant, and the love of my life. I cherish every memory we've created together and look forward to making countless more.</p>

            <p> I also know that sometimes I make you feel bad and angry with the most recent being yesterday. But please know this Maheep that in my heart,
                there is only love you for. Only care for you. Only respect for you. Only trust for you. Only support for you. Only care for you. Only love for you.
            </p>

            <p> Thank you for always being by my side and making me feel special and loved. Thank you for believing in me and supporting me in everything I do. 
                I promise you we are gonna be very successfull in our life and we are gonna live the best life together.
            </p>

            <p> So i am sorry that I forgot girlfriends day. I know I should not have but I hope that this make meepu a litttttle bit happy.</p>
        </div>
        
        <div class="love-quote">
            "In a sea of people, my eyes will always search for you."
        </div>
        
        <div class="photo-section">
            <h2 style="color: #ff80ab;">Our Special Memories</h2>
            <div class="slideshow-container">
                <img src="/img1.PNG" alt="Our special memory" class="slide active">
                <img src="/img2.png" alt="Another beautiful moment" class="slide">
                <img src="/img3.PNG" alt="Special moment together" class="slide">
                <img src="/img4.PNG" alt="Beautiful memory" class="slide">
                <img src="/img5.png" alt="Loving moment" class="slide">
                
                <a class="prev" onclick="changeSlide(-1)">&#10094;</a>
                <a class="next" onclick="changeSlide(1)">&#10095;</a>
                <button class="fullscreen-btn" onclick="openFullscreen()">⛶</button>
            </div>
            
            <div class="dots-container">
                <span class="dot active-dot" onclick="currentSlide(0)"></span>
                <span class="dot" onclick="currentSlide(1)"></span>
                <span class="dot" onclick="currentSlide(2)"></span>
                <span class="dot" onclick="currentSlide(3)"></span>
                <span class="dot" onclick="currentSlide(4)"></span>
            </div>
            
            <!-- Upload form -->
            <div style="margin-top: 30px; text-align: center;">
                <h3 style="color: #ff80ab;">Add More Photos</h3>
                <form id="uploadForm" enctype="multipart/form-data" style="margin: 20px 0;">
                    <div style="margin-bottom: 15px;">
                        <input type="file" id="fileInput" accept="image/*" style="display: none;">
                        <button type="button" onclick="document.getElementById('fileInput').click();" 
                                style="background-color: #ff80ab; color: white; border: none; padding: 12px 20px; 
                                border-radius: 10px; cursor: pointer; font-size: 16px;">
                            Choose Photo
                        </button>
                        <span id="fileName" style="margin-left: 10px; color: #666;"></span>
                    </div>
                    <button type="button" onclick="uploadPhoto()" 
                            style="background-color: #ff4081; color: white; border: none; padding: 12px 20px; 
                            border-radius: 10px; cursor: pointer; font-size: 16px;">
                        Add to Slideshow
                    </button>
                </form>
                <div id="uploadStatus" style="margin-top: 10px; color: #ff4081;"></div>
            </div>
        </div>
        
    </div>

    <script>
        // Heart animation
        function createHearts() {
            const container = document.getElementById('heart-container');
            const heartCount = 20;
            
            for (let i = 0; i < heartCount; i++) {
                setTimeout(() => {
                    const heart = document.createElement('div');
                    heart.classList.add('heart');
                    heart.style.left = Math.random() * 100 + 'vw';
                    heart.style.animationDelay = Math.random() * 5 + 's';
                    heart.style.opacity = Math.random() * 0.5 + 0.5;
                    container.appendChild(heart);
                    
                    setTimeout(() => {
                        heart.remove();
                    }, 5000);
                }, i * 300);
            }
            
            setTimeout(createHearts, 7000);
        }
        
        createHearts();
        
        // Slideshow functionality
        let slideIndex = 0;
        let slides = document.getElementsByClassName("slide");
        let dots = document.getElementsByClassName("dot");
        let slideshowPaused = false;
        
        // Auto slideshow
        function autoSlideshow() {
            if (!slideshowPaused) {
                changeSlide(1);
            }
            setTimeout(autoSlideshow, 4000); // Change image every 4 seconds
        }
        
        // Pause slideshow on hover
        document.querySelector('.slideshow-container').addEventListener('mouseenter', function() {
            slideshowPaused = true;
        });
        
        document.querySelector('.slideshow-container').addEventListener('mouseleave', function() {
            slideshowPaused = false;
        });
        
        // Manual navigation
        function changeSlide(n) {
            showSlide(slideIndex += n);
        }
        
        function currentSlide(n) {
            showSlide(slideIndex = n);
        }
        
        function showSlide(n) {
            // Reset all slides and dots
            for (let i = 0; i < slides.length; i++) {
                slides[i].classList.remove("active");
                dots[i].classList.remove("active-dot");
            }
            
            // Handle index bounds
            if (n >= slides.length) {slideIndex = 0}
            if (n < 0) {slideIndex = slides.length - 1}
            
            // Show current slide and dot
            slides[slideIndex].classList.add("active");
            dots[slideIndex].classList.add("active-dot");
        }
        
        // Start the slideshow
        window.addEventListener('load', function() {
            // Check if we came from login page
            if (document.referrer.includes('/')) {
                // Add entry animation
                document.querySelector('.container').classList.add('entry-animation');
            }
            
            // Start auto slideshow after a delay
            setTimeout(autoSlideshow, 5000);
            
            // Add keyboard navigation
            document.addEventListener('keydown', function(e) {
                if (e.key === 'ArrowLeft') {
                    changeSlide(-1);
                } else if (e.key === 'ArrowRight') {
                    changeSlide(1);
                }
            });
        });
        
        // File upload handling
        document.getElementById('fileInput').addEventListener('change', function() {
            const fileName = this.files[0] ? this.files[0].name : '';
            document.getElementById('fileName').textContent = fileName;
        });
        
        function uploadPhoto() {
            const fileInput = document.getElementById('fileInput');
            const uploadStatus = document.getElementById('uploadStatus');
            
            if (!fileInput.files || fileInput.files.length === 0) {
                uploadStatus.textContent = "Please select a photo first";
                return;
            }
            
            const file = fileInput.files[0];
            const formData = new FormData();
            formData.append('file', file);
            
            uploadStatus.textContent = "Uploading...";
            
            fetch('/upload', {
                method: 'POST',
                body: formData
            })
            .then(response => response.json())
            .then(data => {
                if (data.success) {
                    // Add the new image to slideshow
                    addImageToSlideshow(data.filename);
                    uploadStatus.textContent = "Photo added successfully!";
                    document.getElementById('fileName').textContent = "";
                    fileInput.value = "";
                } else {
                    uploadStatus.textContent = "Error: " + data.error;
                }
            })
            .catch(error => {
                uploadStatus.textContent = "Error: " + error.message;
            });
        }
        
        function addImageToSlideshow(imagePath) {
            const slideshowContainer = document.querySelector('.slideshow-container');
            const dotsContainer = document.querySelector('.dots-container');
            
            // Create new image slide
            const newSlide = document.createElement('img');
            newSlide.src = imagePath;
            newSlide.alt = "Our special moment";
            newSlide.classList.add('slide');
            slideshowContainer.appendChild(newSlide);
            
            // Create new dot
            const newDot = document.createElement('span');
            newDot.classList.add('dot');
            newDot.onclick = function() { currentSlide(slides.length - 1); };
            dotsContainer.appendChild(newDot);
            
            // Update slides array
            slides = document.getElementsByClassName('slide');
            dots = document.getElementsByClassName('dot');
            
            // Show the new slide
            currentSlide(slides.length - 1);
        }
        
        // Fullscreen functionality
        function openFullscreen() {
            const fullscreenMode = document.getElementById('fullscreenMode');
            const fullscreenImage = document.getElementById('fullscreenImage');
            const currentSlide = document.querySelector('.slide.active');
            
            fullscreenImage.src = currentSlide.src;
            fullscreenMode.style.display = 'flex';
            document.body.style.overflow = 'hidden'; // Prevent scrolling when in fullscreen
            slideshowPaused = true; // Pause the slideshow when in fullscreen
        }
        
        function closeFullscreen() {
            const fullscreenMode = document.getElementById('fullscreenMode');
            fullscreenMode.style.display = 'none';
            document.body.style.overflow = ''; // Restore scrolling
            slideshowPaused = false; // Resume the slideshow
        }
        
        // Close fullscreen when clicking outside the image
        document.getElementById('fullscreenMode').addEventListener('click', function(e) {
            if (e.target === this) {
                closeFullscreen();
            }
        });
        
        // Add swipe functionality for mobile devices
        let touchStartX = 0;
        let touchEndX = 0;
        
        document.querySelector('.slideshow-container').addEventListener('touchstart', function(e) {
            touchStartX = e.changedTouches[0].screenX;
        });
        
        document.querySelector('.slideshow-container').addEventListener('touchend', function(e) {
            touchEndX = e.changedTouches[0].screenX;
            handleSwipe();
        });
        
        function handleSwipe() {
            if (touchEndX < touchStartX) {
                changeSlide(1); // Swipe left, next slide
            } else if (touchEndX > touchStartX) {
                changeSlide(-1); // Swipe right, previous slide
            }
        }
    </script>
</body>
</html> 